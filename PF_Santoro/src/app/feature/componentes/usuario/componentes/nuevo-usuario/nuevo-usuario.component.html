<h1 mat-dialog-title>Nuevo usuario</h1>

<div mat-dialog-content>
    <form [formGroup]="formulario">

        <mat-form-field appearance="fill">
            <mat-label>username</mat-label>
            <input formControlName="username" matInput required>
            <mat-error>
                <span *ngIf="formulario.get('username')?.invalid" class="error">El nombre de usuario es requerido
                </span>
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>e-mail</mat-label>
            <input formControlName="email" matInput required>
            <mat-error>
                <span *ngIf="formulario.get('email')?.errors?.['required']" class="error">El Email es requerido </span>
            </mat-error>
            <mat-error>
                <span *ngIf="formulario.get('email')?.errors?.['email']" class="error">El formato es inválido </span>
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill">
            <mat-label>password</mat-label>
            <input formControlName="password" matInput required>
            <mat-error>
            <span *ngIf="formulario.get('password')?.errors?.['required']" class="error">Se requiere contraseña.</span>
            </mat-error>
            <mat-error>
            <span *ngIf="formulario.get('password')?.errors?.['minLength']" class="error"> Mínimo 8 caracteres. </span>
            </mat-error>
        </mat-form-field>

        <br>
        <section class="example-section">
            <mat-checkbox class="example-margin" input formControlName="admin" matInput> admin </mat-checkbox>
        </section>

    </form>
</div>

<div mat-dialog-actions>
    <button id="btnCrear" mat-button (click)="cerrar()">Cerrar</button>
    <button mat-button (click)="guardar()">Guardar</button>
</div>